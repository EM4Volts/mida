cbuffer InvResTime : register(b0)
{
    float ScreenWidth;
    float ScreenHeight;
    float Time;
    float2 Scale;
    float2 Offset;
};

#define cmp -

float2 RotateCoordinate(float2 uv, float mid, float rotation, float aspectRatio)
{
    // Adjust UV coordinates for aspect ratio
    float2 adjustedUV = float2((uv.x - mid) * aspectRatio, uv.y - mid);

    // Apply rotation
    float cosTheta = cos(rotation);
    float sinTheta = sin(rotation);
    
    float2 rotatedUV;
    rotatedUV.x = adjustedUV.x * cosTheta - adjustedUV.y * sinTheta;
    rotatedUV.y = adjustedUV.x * sinTheta + adjustedUV.y * cosTheta;

    // Undo the aspect ratio adjustment and translate back to the original center
    rotatedUV = float2(rotatedUV.x / aspectRatio, rotatedUV.y) + mid;
    return rotatedUV;
}

float4 main(float2 v0 : TEXCOORD) : SV_Target
{
    float4 o0, r0, r1, r2, r3, r4, r5, r6, r7, r8, r9;
    float3 v1 = float3(ScreenHeight, ScreenWidth, Time);
    float4 v2 = float4(0, 0, 0, 0);
    float4 v3 = float4(0, 0, 0, 0);

    float2 scale = Scale;
    float2 pos = Offset;
    
    v0.xy = v0 / float2(ScreenHeight, ScreenWidth);

    r0.x = v1.z * 0.333333343 + 3;
    r0.x = floor(r0.x);
    r0.yz = float2(1.0f/1080.0f, 0.333333343) * v1.yz;
    r0.z = frac(r0.z);
    r0.w = r0.z * -2 + 3;
    r0.z = r0.z * r0.z;
    r0.z = r0.w * r0.z;
    r0.z = min(1, r0.z);
    r0.w = r0.z * -2 + 3;
    r0.z = r0.z * r0.z;
    r0.x = r0.w * r0.z + r0.x;
    r1.xyz = float3(1.57079637, 9.86960506, 4) * r0.xxx;
    r2.xyzw = cmp(r1.yyzz >= -r1.yyzz);
    r2.xyzw = r2.xyzw ? float4(6.28318548, 0.159154937, 4, 0.25) : float4(-6.28318548, -0.159154937, -4, -0.25);
    r0.z = r2.w * r0.x;
    r0.z = frac(r0.z);
    r0.w = r2.z * r0.z;
    r3.xyzw = r2.zzzz * r0.zzzz + float4(-1, -3, -4, -2);
    r0.z = min(-r3.z, r0.w);
    r0.z = min(1, r0.z);
    r0.z = 1 + -r0.z;
    r4.xyzw = float4(0.465000004, 0.449999988, 1.53999996, 0) * r0.zzzz;
    r1.yzw = min(float3(1, 1, 1), abs(r3.xwy));
    r0.w = min(abs(r3.x), abs(r3.y));
    r0.w = min(1, r0.w);
    r0.w = 1 + -r0.w;
    r3.xyz = r0.www * float3(-1.29999995, 0, -1) + float3(2.0999999, 0, 1);
    r1.yzw = float3(1, 1, 1) + -r1.yzw;
    r5.xyzw = r1.yyyy * float4(0.569999993, -1.10000002, 2.6500001, -1) + r4.wyzw;
    r4.xyzw = r1.yyyy * float4(0.569999993, 1.10000002, 2.6500001, -1) + r4.xyzw;
    r4.xyzw = r1.zzzz * float4(0, 0.75999999, 1.79999995, 0) + r4.xyzw;
    r4.xyzw = r1.wwww * float4(1.22000003, 0.920000017, 2.42000008, 1) + r4.xyzw;
    r5.xyzw = r1.zzzz * float4(0, -1.03999996, 1.79999995, 0) + r5.xyzw;
    r5.xyzw = r1.wwww * float4(1.22000003, -0.920000017, 2.42000008, 1) + r5.xyzw;
    r0.w = cmp(0 < r5.w);
    r2.z = cmp(r5.w < 0);
    r0.w = (int) -r0.w + (int) r2.z;
    r0.w = (int) r0.w;
    r2.z = v1.y / v1.x;
    r6.yz = v1.xy * v0.xy; 
    r7.yz = r6.yz * scale + pos; // Spinner scale + pos
    r7.x = r7.y * r2.z;
    r7.xy = r7.xz * float2(0.771428585, 0.771428585) + float2(0.5, 0.5);
    r7.z = 1 + -r7.y;
    r7.xy = r7.xz * float2(2, 2) + float2(-1, -1);
    r7.zw = float2(2.29999995, 2.29999995) * r7.xy;
    r5.xy = r5.zz * r7.zw + r5.xy;
    r8.x = r5.y * -r0.w;
    r8.y = r5.x * r0.w;
    r8.xy = r8.xy + -r5.xy;
    r5.xy = abs(r5.ww) * r8.xy + r5.xy;
    r0.w = 0.5 * r5.y;
    r0.w = abs(r5.x) * 0.866024971 + r0.w;
    r0.w = max(r0.w, -r5.y);
    r0.w = -0.0500000007 + r0.w;
    r0.w = min(1000, r0.w);
    r5.xyzw = float4(-1.29999995, 0, 2.79999995, -1) * r1.yyyy;
    r5.xyzw = r0.zzzz * float4(-0.465000004, 0.449999988, 1.53999996, 0) + r5.xyzw;
    r5.xyzw = r1.zzzz * float4(0, -0.140000001, 1.79999995, 0) + r5.xyzw;
    r5.xyzw = r1.wwww * float4(-1.22000003, -0.920000017, 2.42000008, -1) + r5.xyzw;
    r2.w = cmp(r5.w < 0);
    r2.w = (int) r2.w;
    r5.xy = r5.zz * r7.zw + r5.xy;
    r8.x = r5.y * -r2.w;
    r8.y = r5.x * r2.w;
    r8.xy = r8.xy + -r5.xy;
    r5.xy = -r5.ww * r8.xy + r5.xy;
    r2.w = 0.5 * r5.y;
    r2.w = abs(r5.x) * 0.866024971 + r2.w;
    r2.w = max(r2.w, -r5.y);
    r2.w = -0.0500000007 + r2.w;
    r0.w = min(r2.w, r0.w);
    r2.w = cmp(0 < r4.w);
    r3.w = cmp(r4.w < 0);
    r2.w = (int) -r2.w + (int) r3.w;
    r2.w = (int) r2.w;
    r4.xy = r4.zz * r7.zw + r4.xy;
    r5.x = r4.y * -r2.w;
    r5.y = r4.x * r2.w;
    r5.xy = r5.xy + -r4.xy;
    r4.xy = abs(r4.ww) * r5.xy + r4.xy;
    r2.w = 0.5 * r4.y;
    r2.w = abs(r4.x) * 0.866024971 + r2.w;
    r2.w = max(r2.w, -r4.y);
    r2.w = -0.0500000007 + r2.w;
    r0.w = min(r2.w, r0.w);
    r4.xyzw = float4(-0.569999993, -1.10000002, 2.6500001, 1) * r1.yyyy;
    r4.xyzw = r0.zzzz * float4(-0.300000012, 0.75, 2.03999996, 0) + r4.xyzw;
    r4.xyzw = r1.zzzz * float4(0, -1.79999995, 4.4000001, 0) + r4.xyzw;
    r4.xyzw = r1.wwww * float4(-1.22000003, 0.920000017, 2.42000008, -1) + r4.xyzw;
    r2.w = cmp(0 < r4.w);
    r3.w = cmp(r4.w < 0);
    r2.w = (int) -r2.w + (int) r3.w;
    r2.w = (int) r2.w;
    r4.xy = r4.zz * r7.zw + r4.xy;
    r5.x = r4.y * -r2.w;
    r5.y = r4.x * r2.w;
    r5.xy = r5.xy + -r4.xy;
    r4.xy = abs(r4.ww) * r5.xy + r4.xy;
    r2.w = 0.5 * r4.y;
    r2.w = abs(r4.x) * 0.866024971 + r2.w;
    r2.w = max(r2.w, -r4.y);
    r4.xy = float2(-0.0500000007, -1.25) + r2.ww;
    r2.w = max(-r4.y, r0.w);
    r0.w = min(r4.x, r0.w);
    r2.w = r2.w + -r0.w;
    r0.w = r1.z * r2.w + r0.w;
    r4.xyzw = float4(1.29999995, 0, 2.79999995, 1) * r1.yyyy;
    r4.xyzw = r0.zzzz * float4(0.300000012, 0.75, 2.03999996, 0) + r4.xyzw;
    r4.xyzw = r1.zzzz * float4(0, 0.400000006, 4.4000001, 0) + r4.xyzw;
    r4.xyzw = r1.wwww * float4(1.22000003, 0.920000017, 2.42000008, 1) + r4.xyzw;
    r2.w = cmp(0 < r4.w);
    r2.w = (int) -r2.w;
    r4.xy = r4.zz * r7.zw + r4.xy;
    r5.x = r4.y * -r2.w;
    r5.y = r4.x * r2.w;
    r5.xy = r5.xy + -r4.xy;
    r4.xy = r4.ww * r5.xy + r4.xy;
    r2.w = 0.5 * r4.y;
    r2.w = abs(r4.x) * 0.866024971 + r2.w;
    r2.w = max(r2.w, -r4.y);
    r4.xy = float2(-0.0500000007, -1.25) + r2.ww;
    r2.w = max(-r4.y, r0.w);
    r0.w = min(r4.x, r0.w);
    r2.w = r2.w + -r0.w;
    r0.w = r1.z * r2.w + r0.w;
    r4.xyzw = float4(-0.569999993, 1.10000002, 2.6500001, 1) * r1.yyyy;
    r4.xyzw = r0.zzzz * float4(0, 1.35000002, 3.03999996, 0) + r4.xyzw;
    r4.xyzw = r1.zzzz * float4(0, 2.5999999, 4.4000001, 0) + r4.xyzw;
    r4.xyzw = r1.wwww * float4(-1.22000003, 0.920000017, 2.42000008, -1) + r4.xyzw;
    r2.w = cmp(0 < r4.w);
    r3.w = cmp(r4.w < 0);
    r2.w = (int) -r2.w + (int) r3.w;
    r2.w = (int) r2.w;
    r4.xy = r4.zz * r7.zw + r4.xy;
    r5.x = r4.y * -r2.w;
    r5.y = r4.x * r2.w;
    r5.xy = r5.xy + -r4.xy;
    r4.xy = abs(r4.ww) * r5.xy + r4.xy;
    r2.w = 0.5 * r4.y;
    r2.w = abs(r4.x) * 0.866024971 + r2.w;
    r2.w = max(r2.w, -r4.y);
    r4.xy = float2(-0.0500000007, -1.25) + r2.ww;
    r2.w = max(-r4.y, r0.w);
    r0.w = min(r4.x, r0.w);
    r2.w = r2.w + -r0.w;
    r0.w = r1.z * r2.w + r0.w;
    r4.xy = r1.zz * float2(0, 2) + float2(0, -4);
    r4.xy = r7.xy * float2(3.91000009, 3.91000009) + r4.xy;
    r4.zw = float2(0.920000017, 0.920000017) * r7.xy;
    r2.w = dot(r4.zw, r4.zw);
    r2.w = sqrt(r2.w);
    r2.w = 1 + -r2.w;
    r2.w = saturate(r2.w + r2.w);
    r2.w = r2.w * r2.w;
    r3.w = 0.5 * r4.y;
    r3.w = abs(r4.x) * 0.866024971 + r3.w;
    r3.w = max(r3.w, -r4.y);
    r3.w = -1.25 + r3.w;
    r0.w = max(-r3.w, r0.w);
    r3.w = -0.5 + r0.x;
    r0.x = r0.x * 1.57079637 + 1.04719758;
    r4.x = 4 * r3.w;
    r4.x = cmp(r4.x >= -r4.x);
    r4.xy = r4.xx ? float2(4, 0.25) : float2(-4, -0.25);
    r3.w = r4.y * r3.w;
    r3.w = frac(r3.w);
    r4.y = r4.x * r3.w;
    r3.w = r4.x * r3.w + -4;
    r3.w = min(-r3.w, r4.y);
    r3.w = min(1, r3.w);
    r4.x = r3.w * r3.w;
    r3.w = r4.x * r3.w + -1;
    r3.w = saturate(-r3.w);
    r4.x = r3.w * -2 + 3;
    r3.w = r3.w * r3.w;
    r4.y = r4.x * r3.w;
    r4.z = 6.28318548 * r0.x;
    r4.z = cmp(r4.z >= -r4.z);
    r4.zw = r4.zz ? float2(6.28318548, 0.159154937) : float2(-6.28318548, -0.159154937);
    r0.x = r4.w * r0.x;
    r0.x = frac(r0.x);
    r0.x = r4.z * r0.x;
    r5.y = cos(r0.x);
    r5.x = sin(-r0.x);
    r3.yz = r3.xx * r7.zw + -r3.yz;
    r0.x = dot(r3.yz, r5.xy);
    r5.z = -r5.y;
    r3.y = dot(r3.yz, r5.xz);
    r3.z = r4.y * 0.25 + abs(r0.x);
    r0.x = saturate(-0.800000012 + abs(r0.x));
    r3.z = 1.89999998 * r3.z;
    r3.z = frac(r3.z);
    r3.z = -0.5 + r3.z;
    r4.z = 1 / r0.y;
    r0.y = max(0.800000012, r0.y);
    r5.xyz = float3(0.949999988, 0.00800000038, 1.99499989) * r4.zzz;
    r3.z = r5.z * abs(r3.z);
    r3.z = r3.z / r3.x;
    r0.x = r3.z + r0.x;
    r0.x = 0.5 + r0.x;
    r0.xy = min(float2(100000, 0.949999988), r0.xy);
    r3.z = r4.y * 0.25 + abs(r3.y);
    r4.yz = r4.yy * float2(-0.300000012, 0.00800000038) + float2(1, 1);
    r3.y = saturate(-0.800000012 + abs(r3.y));
    r3.z = 1.89999998 * r3.z;
    r3.z = frac(r3.z);
    r3.z = -0.5 + r3.z;
    r3.z = r5.z * abs(r3.z);
    r3.z = r3.z / r3.x;
    r3.y = r3.z + r3.y;
    r3.y = 0.5 + r3.y;
    r0.x = min(r3.y, r0.x);
    r3.y = -r4.x * r3.w + 2;
    r1.x = r2.y * r1.x;
    r1.x = frac(r1.x);
    r1.x = r2.x * r1.x;
    r2.y = cos(r1.x);
    r2.x = sin(-r1.x);
    r5.zw = r4.yy * r7.zw;
    r1.x = dot(r7.zw, r7.zw);
    r1.x = sqrt(r1.x);
    r2.x = dot(r5.zw, r2.xy);
    r2.y = r4.x * r3.w + abs(r2.x);
    r2.x = saturate(-0.800000012 + abs(r2.x));
    r2.y = r3.y * r2.y;
    r3.y = 4 + -r3.y;
    r3.y = r3.y * r5.x;
    r2.y = frac(r2.y);
    r2.y = -0.5 + r2.y;
    r2.y = r3.y * abs(r2.y);
    r2.y = r2.y / r4.y;
    r2.x = r2.y + r2.x;
    r2.x = 0.5 + r2.x;
    r2.x = r4.z * r2.x;
    r0.x = min(r2.x, r0.x);
    r0.y = r0.x * r0.y + -1.25;
    r0.y = -0.800000012 * r0.y;
    r0.y = max(r0.y, r0.w);
    r0.y = r0.y + -r0.w;
    r0.y = r0.z * r0.y + r0.w;
    r0.z = r1.y + r0.z;
    r0.z = r0.z + r1.z;
    r0.z = r0.z + r1.w;
    r0.w = 1 + -r1.w;
    r0.z = min(1, r0.z);
    r0.z = 1 + -r0.z;
    r0.y = max(r0.y, r0.z);
    r0.z = log2(r0.y);
    r0.z = 0.649999976 * r0.z;
    r0.z = exp2(r0.z);
    r0.z = -0.529999971 + r0.z;
    r0.z = max(0, r0.z);
    r0.z = 0.200000003 * r0.z;
    r0.z = rsqrt(r0.z);
    r0.z = 1 / r0.z;
    r0.z = 10 * r0.z;
    r0.z = frac(r0.z);
    r0.z = log2(r0.z);
    r0.z = 10 * r0.z;
    r0.z = exp2(r0.z);
    r1.y = 0.300000012 * r0.w;
    r0.z = r1.y * r0.z;
    r1.y = r0.y * r0.y + 1;
    r0.y = -0.0299999993 + r0.y;
    r0.y = max(0, r0.y);
    r0.y = 1.29999995 * r0.y;
    r0.y = min(1, r0.y);
    r0.y = 1 + -r0.y;
    r0.y = r0.w * r0.y;
    r0.y = 2.79999995 * r0.y;
    r0.y = log2(r0.y);
    r0.y = 20 * r0.y;
    r0.y = exp2(r0.y);
    r0.y = min(1, r0.y);
    r1.y = 0.5 / r1.y;
    r0.z = r1.y * r0.z;
    r0.y = r0.w * r0.y + r0.z;
    r0.y = r0.y + r0.y;
    r0.z = 1 / r3.x;
    r0.w = r4.y + r3.x;
    r0.w = 0.5 * r0.w;
    r0.w = 1 / r0.w;
    r0.zw = r1.xx + -r0.zw;
    r0.zw = r5.yy * r0.zw;
    r0.zw = float2(0.100000001, 0.100000001) * r0.zw;
    r0.w = log2(abs(r0.w));
    r0.w = 0.140000001 * r0.w;
    r0.w = exp2(r0.w);
    r0.z = log2(abs(r0.z));
    r0.z = 0.140000001 * r0.z;
    r0.z = exp2(r0.z);
    r0.zw = float2(0.349999994, 0.349999994) + r0.zw;
    r0.x = min(r0.x, r0.z);
    r0.z = 1 / r4.y;
    r1.y = 0.899999976 * r4.y;
    r1.y = 1 / r1.y;
    r1.y = r1.x + -r1.y;
    r0.z = r1.x + -r0.z;
    r0.z = r5.y * r0.z;
    r1.x = r5.y * r1.y;
    r1.x = 0.100000001 * r1.x;
    r1.x = log2(abs(r1.x));
    r1.x = 0.140000001 * r1.x;
    r1.x = exp2(r1.x);
    r1.x = 0.349999994 + r1.x;
    r0.z = 0.100000001 * r0.z;
    r0.z = log2(abs(r0.z));
    r0.z = 0.140000001 * r0.z;
    r0.z = exp2(r0.z);
    r0.z = 0.349999994 + r0.z;
    r0.x = min(r0.x, r0.z);
    r0.x = min(r0.x, r0.w);
    r0.x = min(r0.x, r1.x);
    r0.x = 1 + -r0.x;
    r0.x = max(9.99999975e-006, r0.x);
    r0.x = 2.0250001 * r0.x;
    r0.x = log2(r0.x);
    r0.x = 30 * r0.x;
    r0.x = exp2(r0.x);
    r0.x = min(1, r0.x);
    r0.x = max(r0.x, r0.y);
    r0.x = -r2.w * r0.x + 1;
    r0.x = max(0, r0.x);
    r0.x = 1 + -r0.x;
    r0.y = saturate(1.66666675 * v1.z);
    r0.z = r0.y * -2 + 3;
    r0.y = r0.y * r0.y;
    r0.y = r0.z * r0.y;
    r0.x = r0.x * r0.y;
    r6.xw = -v0.yy * v1.yy + float2(1, 1);
    r0.yz = float2(10, 40) * r6.xx;
    r0.zw = sin(r0.yz);
    r0.y = r6.y * 10 + r0.y;
    r0.y = v1.z * 0.0166666675 + r0.y;
    r0.y = sin(r0.y);
    r0.zw = r0.zw * float2(0.100000001, 0.00999999978) + r6.yy;
    r1.x = v0.x * v1.x + r6.x;
    r1.x = sin(r1.x);
    r1.xyw = r1.xxx * float3(1.27999997, 1.27999997, 1.27999997) + r0.zzz;
    r2.x = r0.y * 0.0399999991 + r0.w;
    r0.yz = r6.yy * float2(5, 20) + float2(1, 1);
    r0.yz = sin(r0.yz);
    r1.z = r6.x + r0.y;
    r2.y = r0.z * 0.0500000007 + r6.x;
    r0.y = r1.z / r1.w;
    r0.y = 0.100000001 + r0.y;
    r0.z = max(1, abs(r0.y));
    r0.z = 1 / r0.z;
    r0.w = min(1, abs(r0.y));
    r0.z = r0.w * r0.z;
    r0.w = r0.z * r0.z;
    r2.w = r0.w * 0.0208350997 + -0.0851330012;
    r2.w = r0.w * r2.w + 0.180141002;
    r2.w = r0.w * r2.w + -0.330299497;
    r0.w = r0.w * r2.w + 0.999866009;
    r2.w = r0.z * r0.w;
    r2.w = r2.w * -2 + 1.57079637;
    r3.x = cmp(1 < abs(r0.y));
    r0.y = min(1, r0.y);
    r0.y = cmp(r0.y < -r0.y);
    r2.w = r3.x ? r2.w : 0;
    r0.z = r0.z * r0.w + r2.w;
    r0.y = r0.y ? -r0.z : r0.z;
    r1.xyzw = r0.yyyy * float4(0.100000001, 0.100000001, 0.100000001, 0.100000001) + r1.xyzw;
    r0.yz = float2(0.400000006, 0.00400000019) * r1.xy;
    r1.xy = r1.zw * float2(1.20000005, 0.5) + float2(0.100000001, 2);
    r0.z = cmp(r0.z >= -r0.z);
    r0.zw = r0.zz ? float2(0.00999999978, 100) : float2(-0.00999999978, -100);
    r0.y = r0.y * r0.w;
    r0.y = frac(r0.y);
    r0.y = r0.z * r0.y;
    r0.y = abs(r0.y) * 50 + -0.25;
    r0.z = v1.z * 0.00166666671 + r1.x;
    r0.w = 0.00800000038 * r0.z;
    r0.w = cmp(r0.w >= -r0.w);
    r1.xz = r0.ww ? float2(0.00800000038, 124.999992) : float2(-0.00800000038, -124.999992);
    r0.z = r1.z * r0.z;
    r0.z = frac(r0.z);
    r0.z = r1.x * r0.z;
    r0.z = abs(r0.z) * 50 + -0.200000003;
    r0.y = abs(r0.y) * abs(r0.z);
    r0.y = 5 * r0.y;
    r0.z = 0.0120000001 * r1.y;
    r0.z = cmp(r0.z >= -r0.z);
    r0.zw = r0.zz ? float2(0.0120000001, 83.3333359) : float2(-0.0120000001, -83.3333359);
    r0.w = r1.y * r0.w;
    r0.w = frac(r0.w);
    r0.z = r0.z * r0.w;
    r0.z = abs(r0.z) * 20 + -0.100000001;
    r0.y = r0.y * abs(r0.z);
    r0.y = 50 * r0.y;
    r0.y = r0.y * r0.y;
    r0.y = min(1, r0.y);
    r0.z = r6.y * r6.y;

    r1.yz = r6.yw * float2(2, 2) + float2(-1, -1);
    r1.yz = RotateCoordinate(r1.yz, 0, v1.z*0.05, v1.y/v1.x);
    
    r0.w = 1 + -r6.x;
    r0.zw = saturate(r0.zz * r0.ww + float2(0.150000006, 0.5));
    r0.y = r0.y * r0.z;
    r0.y = r0.y * r0.w;
    r0.z = r2.y / r2.x;
    r0.z = 0.100000001 + r0.z;
    r0.w = max(1, abs(r0.z));
    r0.w = 1 / r0.w;
    r1.w = min(1, abs(r0.z));
    r0.w = r1.w * r0.w;
    r1.w = r0.w * r0.w;
    r2.w = r1.w * 0.0208350997 + -0.0851330012;
    r2.w = r1.w * r2.w + 0.180141002;
    r2.w = r1.w * r2.w + -0.330299497;
    r1.w = r1.w * r2.w + 0.999866009;
    r2.w = r1.w * r0.w;
    r2.w = r2.w * -2 + 1.57079637;
    r3.x = cmp(1 < abs(r0.z));
    r0.z = min(1, r0.z);
    r0.z = cmp(r0.z < -r0.z);
    r2.w = r3.x ? r2.w : 0;
    r0.w = r0.w * r1.w + r2.w;
    r0.z = r0.z ? -r0.w : r0.w;
    r0.zw = r0.zz * float2(0.300000012, 0.300000012) + r2.xy;
    r1.w = dot(r0.zw, r0.zw);
    r1.w = sqrt(r1.w);
    r3.xyzw = float4(-0.800000012, -0.800000012, -0.200000003, -0.699999988) + r0.zwzw;
    r2.x = dot(r3.xy, r3.xy);
    r2.y = dot(r3.zw, r3.zw);
    r2.xy = sqrt(r2.xy);
    r1.w = min(r2.x, r1.w);
    r1.w = min(r2.y, r1.w);
    r3.xyzw = float4(-0.600000024, -0.300000012, -0.349999994, -0.100000001) + r0.zwzw;
    r2.x = dot(r3.xy, r3.xy);
    r2.y = dot(r3.zw, r3.zw);
    r2.xy = sqrt(r2.xy);
    r1.w = min(r2.x, r1.w);
    r1.w = min(r2.y, r1.w);
    r3.xyzw = float4(-0.100000001, -0.200000003, -0.800000012, -0.100000001) + r0.zwzw;
    r0.zw = float2(-0.25, -0.200000003) + r0.zw;
    r0.z = dot(r0.zw, r0.zw);
    r0.w = dot(r3.xy, r3.xy);
    r2.x = dot(r3.zw, r3.zw);
    r2.x = sqrt(r2.x);
    r0.zw = sqrt(r0.zw);
    r0.w = min(r0.w, r1.w);
    r0.w = min(r2.x, r0.w);
    r0.z = min(r0.z, r0.w);
    r0.w = min(1, r0.z);
    r0.z = 3 * r0.z;
    r0.z = r0.z * r0.z;
    r0.z = min(1, r0.z);
    r0.w = 1 + -r0.w;
    r0.z = r0.z * r0.w;
    r0.z = 0.104999997 * r0.z;
    r0.y = r0.y * 0.0500000007 + r0.z;
    r1.x = r1.y * r2.z;
    r0.z = dot(r1.xz, float2(1, 0.899749458));
    r0.z = min(1000, abs(r0.z));
    r0.w = dot(r1.xz, float2(-1, 0.899749458));
    r0.z = min(r0.z, abs(r0.w));
    r0.z = min(r0.z, abs(r1.x));
    r0.z = min(r0.z, abs(r1.z));
    r0.w = dot(r1.xz, float2(-0.200000003, 0.5));
    r0.z = min(r0.z, abs(r0.w));
    r0.w = dot(r1.xz, float2(0.200000003, 0.5));
    r1.x = dot(r1.xz, r1.xz);
    r1.x = sqrt(r1.x);
    r1.xyzw = float4(-0.300000012, -0.5, -1.09588516, -1.5) + r1.xxxx;
    r0.z = min(r0.z, abs(r0.w));
    r0.z = max(r0.z, -r1.x);
    r1.xyzw = float4(200, 200, 200, 200) * abs(r1.xyzw);
    r1.xyzw = log2(r1.xyzw);
    r1.xyzw = float4(10, 10, 10, 10) * r1.xyzw;
    r1.xyzw = exp2(r1.xyzw);
    r1.xyzw = min(float4(1, 1, 1, 1), r1.xyzw);
    r1.xyzw = float4(5, 5, 5, 5) * r1.xyzw;
    r0.z = min(r1.x, r0.z);
    r0.z = min(r0.z, r1.y);
    r0.z = min(r0.z, r1.z);
    r0.z = min(r0.z, r1.w);
    r0.z = 300 * r0.z;
    r0.z = log2(r0.z);
    r0.z = 0.200000003 * r0.z;
    r0.z = exp2(r0.z);
    r0.z = min(1, r0.z);
    r0.z = 1 + -r0.z;
    r0.y = r0.z * 0.0612500012 + r0.y;
    r0.z = 0.49000001 + -r0.y;
    r0.x = r0.x * r0.z + r0.y;
    r0.y = log2(r0.x);
    r0.y = v2.x * r0.y;
    r0.y = exp2(r0.y);
    r0.y = v2.y * r0.y;
    r0.y = r0.y * v3.x + v3.y;
    r0.y = max(0, r0.y);
    r0.zw = cmp(float2(1, 0.5) < v2.yz);
    r0.x = r0.z ? r0.y : r0.x;
    r1.x = dot(float3(0.627399981, 0.329299986, 0.0432999991), r0.xxx);
    r1.y = dot(float3(0.0691, 0.919499993, 0.0114000002), r0.xxx);
    r1.z = dot(float3(0.0164000001, 0.0879999995, 0.895600021), r0.xxx);
    r1.xyz = v2.www * r1.xyz;
    r1.xyz = float3(9.99999975e-005, 9.99999975e-005, 9.99999975e-005) * r1.xyz;
    r1.xyz = max(float3(0, 0, 0), r1.xyz);
    r1.xyz = log2(r1.xyz);
    r1.xyz = float3(0.159301758, 0.159301758, 0.159301758) * r1.xyz;
    r1.xyz = exp2(r1.xyz);
    r2.xyz = r1.xyz * float3(18.8515625, 18.8515625, 18.8515625) + float3(0.8359375, 0.8359375, 0.8359375);
    r1.xyz = r1.xyz * float3(18.6875, 18.6875, 18.6875) + float3(1, 1, 1);
    r1.xyz = r2.xyz / r1.xyz;
    r1.xyz = log2(r1.xyz);
    r1.xyz = float3(78.84375, 78.84375, 78.84375) * r1.xyz;
    r1.xyz = exp2(r1.xyz);
    o0.xyz = r0.www ? r1.xyz : r0.xxx;
    o0.w = 0.75;
    return o0.xyzw;
}
